{
  "openapi": "3.0.0",
  "info": {
    "title": "ServiConnect API",
    "version": "1.0.0",
    "description": "API para a plataforma ServiConnect, facilitando a conexão entre clientes e prestadores de serviço."
  },
  "servers": [
    {
      "url": "http://localhost:3002",
      "description": "Servidor de Desenvolvimento"
    }
  ],
  "components": {
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "ID único do usuário.",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "description": "Nome do usuário.",
            "example": "João Silva"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Endereço de e-mail do usuário.",
            "example": "joao.silva@example.com"
          },
          "avatar": {
            "type": "string",
            "format": "url",
            "nullable": true,
            "description": "URL da imagem de avatar do usuário.",
            "example": "https://example.com/avatar.jpg"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data de criação do usuário.",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data da última atualização do usuário.",
            "readOnly": true
          }
        },
        "required": [
          "id",
          "name",
          "email",
          "role",
          "createdAt",
          "updatedAt"
        ]
      },
      "UserAddress": {
        "allOf": [
          {
            "$ref": "#/components/schemas/AddressBase"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "ID único do endereço do usuário.",
                "readOnly": true
              },
              "userId": {
                "type": "string",
                "format": "uuid",
                "description": "ID do usuário associado.",
                "readOnly": true
              },
              "isPrimary": {
                "type": "boolean",
                "description": "Indica se este é o endereço principal do usuário.",
                "default": false
              },
              "createdAt": {
                "type": "string",
                "format": "date-time",
                "description": "Data de criação.",
                "readOnly": true
              },
              "updatedAt": {
                "type": "string",
                "format": "date-time",
                "description": "Data da última atualização.",
                "readOnly": true
              }
            },
            "required": [
              "id",
              "userId",
              "isPrimary",
              "createdAt",
              "updatedAt"
            ]
          }
        ]
      },
      "Company": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "ID único da empresa.",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "description": "Nome da empresa.",
            "example": "Salão Beleza Pura"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "Descrição da empresa.",
            "example": "Especialistas em cortes e coloração."
          },
          "cnpj": {
            "type": "string",
            "nullable": true,
            "description": "CNPJ da empresa.",
            "example": "12.345.678/0001-90"
          },
          "logo": {
            "type": "string",
            "format": "url",
            "nullable": true,
            "description": "URL do logo da empresa.",
            "example": "https://example.com/logo.png"
          },
          "coverImage": {
            "type": "string",
            "format": "url",
            "nullable": true,
            "description": "URL da imagem de capa da empresa.",
            "example": "https://example.com/cover.png"
          },
          "phone": {
            "type": "string",
            "nullable": true,
            "description": "Telefone principal da empresa.",
            "example": "(11) 99999-8888"
          },
          "email": {
            "type": "string",
            "format": "email",
            "nullable": true,
            "description": "E-mail de contato da empresa.",
            "example": "contato@belezapura.com"
          },
          "yearEstablished": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "description": "Ano de fundação.",
            "example": 2010
          },
          "rating": {
            "type": "number",
            "format": "float",
            "nullable": true,
            "description": "Avaliação média da empresa.",
            "example": 4.8,
            "readOnly": true
          },
          "totalReviews": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "description": "Número total de avaliações.",
            "example": 150,
            "readOnly": true
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Categorias de serviço da empresa.",
            "example": [
              "Cabelereiro",
              "Manicure"
            ]
          },
          "ownerId": {
            "type": "string",
            "format": "uuid",
            "description": "ID do usuário proprietário da empresa.",
            "readOnly": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data de criação.",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data da última atualização.",
            "readOnly": true
          }
        },
        "required": [
          "id",
          "name",
          "ownerId",
          "createdAt",
          "updatedAt"
        ]
      },
      "Service": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "ID único do serviço.",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "description": "Nome do serviço.",
            "example": "Corte Feminino"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "Descrição detalhada do serviço.",
            "example": "Corte moderno e estilizado para mulheres."
          },
          "price": {
            "type": "number",
            "format": "float",
            "description": "Preço do serviço.",
            "example": 75.5
          },
          "duration": {
            "type": "string",
            "description": "Duração estimada do serviço (formato ISO 8601 Duration, ex: PT1H30M para 1 hora e 30 minutos).",
            "example": "PT1H"
          },
          "categoryId": {
            "type": "string",
            "format": "uuid",
            "description": "ID da categoria à qual o serviço pertence."
          },
          "companyId": {
            "type": "string",
            "format": "uuid",
            "description": "ID da empresa que oferece o serviço (se aplicável).",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "default": true,
            "description": "Indica se o serviço está ativo/disponível."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data de criação.",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data da última atualização.",
            "readOnly": true
          }
        },
        "required": [
          "id",
          "name",
          "price",
          "duration",
          "categoryId",
          "isActive",
          "createdAt",
          "updatedAt"
        ]
      },
      "Professional": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "ID único do profissional.",
            "readOnly": true
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "ID do usuário associado a este perfil profissional.",
            "readOnly": true
          },
          "companyId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "ID da empresa (company.id) à qual o profissional está vinculado.",
            "example": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
          },
          "name": {
            "type": "string",
            "description": "Nome público do profissional.",
            "example": "Maria Cabeleireira"
          },
          "role": {
            "type": "string",
            "nullable": true,
            "description": "Cargo ou especialidade principal do profissional.",
            "example": "Cabeleireira Sênior"
          },
          "bio": {
            "type": "string",
            "nullable": true,
            "description": "Biografia ou breve descrição do profissional.",
            "example": "Apaixonada por transformar visuais."
          },
          "phone": {
            "type": "string",
            "nullable": true,
            "description": "Número de telefone do profissional.",
            "example": "(11) 98888-7777"
          },
          "email": {
            "type": "string",
            "format": "email",
            "nullable": true,
            "description": "Endereço de e-mail do profissional.",
            "example": "maria.cabeleireira@example.com"
          },
          "avatar": {
            "type": "string",
            "format": "url",
            "nullable": true,
            "description": "URL da imagem de perfil do profissional.",
            "example": "https://example.com/avatar/maria.jpg"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data de criação.",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data da última atualização.",
            "readOnly": true
          }
        },
        "required": [
          "id",
          "userId",
          "name",
          "createdAt",
          "updatedAt"
        ]
      },
      "Appointment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "ID único do agendamento.",
            "readOnly": true
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "ID do usuário que fez o agendamento."
          },
          "professionalId": {
            "type": "string",
            "format": "uuid",
            "description": "ID do profissional com quem o serviço foi agendado."
          },
          "serviceId": {
            "type": "string",
            "format": "uuid",
            "description": "ID do serviço agendado."
          },
          "date": {
            "type": "string",
            "format": "date-time",
            "description": "Data e hora do agendamento.",
            "example": "2024-07-20T14:30:00Z"
          },
          "status": {
            "$ref": "#/components/schemas/AppointmentStatus"
          },
          "notes": {
            "type": "string",
            "nullable": true,
            "description": "Notas ou observações adicionais sobre o agendamento.",
            "example": "Preferência por corte sem máquina."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data de criação.",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data da última atualização.",
            "readOnly": true
          }
        },
        "required": [
          "id",
          "userId",
          "professionalId",
          "serviceId",
          "date",
          "status",
          "createdAt",
          "updatedAt"
        ]
      },
      "Category": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "ID único da categoria.",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "description": "Nome da categoria.",
            "example": "Cabelo"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "Descrição da categoria.",
            "example": "Serviços relacionados a cortes, penteados e tratamentos capilares."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data de criação.",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Data da última atualização.",
            "readOnly": true
          }
        },
        "required": [
          "id",
          "name",
          "createdAt",
          "updatedAt"
        ]
      }
    }
  }
}

